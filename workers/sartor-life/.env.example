# =============================================================================
# Sartor Life MCP Gateway - Cloudflare Worker Environment Configuration
# =============================================================================
#
# This file documents the secrets and variables needed for the Cloudflare Worker.
#
# IMPORTANT: These are NOT set via a .env file!
#
# For Cloudflare Workers, you must set these using:
#   - wrangler secret put SECRET_NAME (for secrets)
#   - wrangler.toml [vars] section (for non-sensitive variables)
#
# See: https://developers.cloudflare.com/workers/configuration/secrets/
#
# =============================================================================


# =============================================================================
# KV NAMESPACES (Required - set in wrangler.toml)
# =============================================================================
#
# These are configured in wrangler.toml, not as secrets.
# Create them first with:
#
#   wrangler kv:namespace create VAULT_KV
#   wrangler kv:namespace create MEMORY_KV
#   wrangler kv:namespace create CHAT_KV
#   wrangler kv:namespace create RATE_LIMIT_KV
#
# Then update the IDs in wrangler.toml
#
# VAULT_KV=<created-kv-id>
# MEMORY_KV=<created-kv-id>
# CHAT_KV=<created-kv-id>
# RATE_LIMIT_KV=<created-kv-id>


# =============================================================================
# AUTHENTICATION TOKENS (Required - set via wrangler secret put)
# =============================================================================
#
# Bearer tokens for authenticating family members.
# Each family member gets their own token for access control.
#
# Generate secure tokens:
#   PowerShell: [guid]::NewGuid().ToString() + "-" + [guid]::NewGuid().ToString()
#   Bash: openssl rand -hex 32
#   Node.js: require('crypto').randomBytes(32).toString('hex')
#
# Set each secret:
#   wrangler secret put AUTH_TOKEN_ENZO
#   wrangler secret put AUTH_TOKEN_ALESSIA
#   wrangler secret put AUTH_TOKEN_NADIA
#   wrangler secret put AUTH_TOKEN_ADMIN
#

# Token for family member: Enzo
# AUTH_TOKEN_ENZO=<generated-secure-token>

# Token for family member: Alessia
# AUTH_TOKEN_ALESSIA=<generated-secure-token>

# Token for family member: Nadia
# AUTH_TOKEN_NADIA=<generated-secure-token>

# Admin token (full access)
# AUTH_TOKEN_ADMIN=<generated-secure-token>


# =============================================================================
# ENCRYPTION KEY (Optional - set via wrangler secret put)
# =============================================================================
#
# Used to encrypt sensitive data stored in KV.
# Generate a 256-bit key:
#   openssl rand -hex 32
#
# Set the secret:
#   wrangler secret put ENCRYPTION_KEY
#

# ENCRYPTION_KEY=<generated-256-bit-hex-key>


# =============================================================================
# ENVIRONMENT VARIABLES (Non-secret - set in wrangler.toml)
# =============================================================================
#
# These are configured in the [vars] section of wrangler.toml
#

# Environment name (development, staging, production)
# ENVIRONMENT=development

# Rate limiting configuration
# MAX_REQUESTS_PER_MINUTE=60

# Storage limits
# MAX_VAULT_ITEMS=10000
# MAX_MEMORY_ITEMS=50000


# =============================================================================
# QUICK SETUP GUIDE
# =============================================================================
#
# 1. Create KV namespaces:
#    wrangler kv:namespace create VAULT_KV
#    wrangler kv:namespace create MEMORY_KV
#    wrangler kv:namespace create CHAT_KV
#    wrangler kv:namespace create RATE_LIMIT_KV
#
# 2. Update wrangler.toml with the KV namespace IDs from step 1
#
# 3. Generate auth tokens (run for each family member):
#    PowerShell:
#      $token = [guid]::NewGuid().ToString() + "-" + [guid]::NewGuid().ToString()
#      Write-Host "Token: $token"
#      # Then: wrangler secret put AUTH_TOKEN_ENZO (paste the token)
#
# 4. Set all secrets:
#    wrangler secret put AUTH_TOKEN_ENZO
#    wrangler secret put AUTH_TOKEN_ALESSIA
#    wrangler secret put AUTH_TOKEN_NADIA
#    wrangler secret put AUTH_TOKEN_ADMIN
#    wrangler secret put ENCRYPTION_KEY
#
# 5. Deploy:
#    wrangler deploy
#
# 6. Test:
#    curl -X POST https://sartor-life.<your-subdomain>.workers.dev/mcp \
#      -H "Authorization: Bearer <your-token>" \
#      -H "Content-Type: application/json" \
#      -d '{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}'
#
# =============================================================================


# =============================================================================
# LOCAL DEVELOPMENT
# =============================================================================
#
# For local development with wrangler dev, create a .dev.vars file:
#
#   AUTH_TOKEN_ENZO=dev-token-enzo-12345
#   AUTH_TOKEN_ALESSIA=dev-token-alessia-12345
#   AUTH_TOKEN_NADIA=dev-token-nadia-12345
#   AUTH_TOKEN_ADMIN=dev-token-admin-12345
#   ENCRYPTION_KEY=dev-encryption-key-for-testing-only
#
# Then run:
#   wrangler dev
#
# The worker will be available at http://localhost:8787
#
# =============================================================================
