# MCP Gateway Environment Configuration
# Copy this file to .env and update with your values
# All values are optional - defaults are shown

# ============================================
# SERVER CONFIGURATION
# ============================================

# Server bind address (0.0.0.0 for all interfaces, 127.0.0.1 for local only)
MCP_HOST=0.0.0.0

# Server port (default: 8080)
MCP_PORT=8080

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
MCP_LOG_LEVEL=INFO

# Log file path (relative or absolute)
MCP_LOG_FILE=logs/mcp_server.log

# ============================================
# SECURITY CONFIGURATION
# ============================================

# Enable authentication (true/false)
# WARNING: Set to true in production!
REQUIRE_AUTH=false

# API key for authentication (generate with: openssl rand -base64 32)
# Required if REQUIRE_AUTH=true
SARTOR_API_KEY=

# Allowed CORS origins (comma-separated, * for all)
ALLOWED_ORIGINS=*

# SSL/TLS Configuration (for HTTPS/WSS)
MCP_SSL_ENABLED=false
MCP_SSL_CERT_PATH=
MCP_SSL_KEY_PATH=

# ============================================
# FIREBASE CONFIGURATION (Optional)
# ============================================

# Enable Firebase integration for cloud relay
FIREBASE_ENABLED=true

# Firebase project ID
FIREBASE_PROJECT_ID=home-claude-network

# Firebase Realtime Database URL
FIREBASE_DATABASE_URL=https://home-claude-network-default-rtdb.firebaseio.com

# Path to Firebase service account credentials JSON file
# Download from: Firebase Console > Project Settings > Service Accounts
FIREBASE_CREDENTIALS_PATH=

# Firebase database namespace (for multi-tenant setups)
FIREBASE_NAMESPACE=agents-network

# ============================================
# PERFORMANCE CONFIGURATION
# ============================================

# Maximum concurrent WebSocket connections
MAX_CONNECTIONS=100

# Message processing timeout in seconds
MESSAGE_TIMEOUT=30

# Number of background worker threads
WORKER_THREADS=4

# Connection pool size for database connections
CONNECTION_POOL_SIZE=10

# Message queue size (in-memory buffer)
MESSAGE_QUEUE_SIZE=1000

# ============================================
# FEATURE FLAGS
# ============================================

# Enable performance metrics endpoint
ENABLE_METRICS=true

# Enable health check endpoint
ENABLE_HEALTH_CHECK=true

# Enable auto-discovery protocol
ENABLE_DISCOVERY=true

# Enable WebSocket compression
ENABLE_WEBSOCKET_COMPRESSION=true

# Enable message persistence
ENABLE_MESSAGE_PERSISTENCE=true

# ============================================
# RATE LIMITING
# ============================================

# Global rate limit (requests per minute per IP)
RATE_LIMIT_GLOBAL=100

# Rate limit for message broadcasts (per minute per agent)
RATE_LIMIT_BROADCAST=10

# Rate limit for consensus proposals (per minute per agent)
RATE_LIMIT_CONSENSUS=5

# Rate limit for tool executions (per minute per agent)
RATE_LIMIT_TOOLS=50

# ============================================
# MONITORING & ALERTING
# ============================================

# Enable monitoring webhooks
MONITORING_ENABLED=false

# Webhook URL for alerts (Slack, Discord, etc.)
ALERT_WEBHOOK_URL=

# Alert threshold for high connection count
ALERT_CONNECTION_THRESHOLD=90

# Alert threshold for high memory usage (MB)
ALERT_MEMORY_THRESHOLD=500

# Alert threshold for high CPU usage (percentage)
ALERT_CPU_THRESHOLD=80

# ============================================
# NETWORK CONFIGURATION
# ============================================

# Network discovery scan range (CIDR notation)
# Example: 192.168.1.0/24
DISCOVERY_NETWORK_RANGE=192.168.1.0/24

# Discovery scan ports (comma-separated)
DISCOVERY_PORTS=8080,8081,8082

# Discovery scan timeout (seconds)
DISCOVERY_TIMEOUT=5

# mDNS/Bonjour service name
MDNS_SERVICE_NAME=_mcp-gateway._tcp.local.

# ============================================
# CACHE CONFIGURATION
# ============================================

# Enable Redis cache (requires Redis server)
REDIS_ENABLED=false

# Redis connection string
REDIS_URL=redis://localhost:6379/0

# Cache TTL in seconds
CACHE_TTL=300

# ============================================
# DATABASE CONFIGURATION (Future)
# ============================================

# PostgreSQL connection (for analytics, future feature)
POSTGRES_ENABLED=false
POSTGRES_URL=postgresql://user:pass@localhost/mcp_db

# MongoDB connection (for document storage, future feature)
MONGO_ENABLED=false
MONGO_URL=mongodb://localhost:27017/mcp

# ============================================
# DEVELOPMENT & DEBUG
# ============================================

# Enable debug mode (verbose logging, stack traces)
DEBUG_MODE=false

# Enable WebSocket debug messages
DEBUG_WEBSOCKET=false

# Enable tool execution tracing
DEBUG_TOOLS=false

# Enable message tracing
TRACE_MESSAGES=false

# Enable memory profiling
PROFILE_MEMORY=false

# Enable performance profiling
PROFILE_PERFORMANCE=false

# ============================================
# EXPERIMENTAL FEATURES
# ============================================

# Enable GraphQL API (experimental)
ENABLE_GRAPHQL=false

# Enable gRPC transport (experimental)
ENABLE_GRPC=false

# Enable MQTT transport (experimental)
ENABLE_MQTT=false

# Enable plugin system (experimental)
ENABLE_PLUGINS=false

# Plugin directory path
PLUGIN_DIR=plugins/

# ============================================
# NOTES
# ============================================
#
# 1. Security: Always use REQUIRE_AUTH=true in production
# 2. Firebase: Create free project at https://console.firebase.google.com
# 3. SSL: Use Let's Encrypt for free certificates
# 4. Monitoring: Consider using Prometheus + Grafana
# 5. Logs: Rotate logs regularly to prevent disk fill
# 6. Backup: Regular backups of configuration and Firebase
#
# For help, see: MCP-DEPLOYMENT-GUIDE.md
# ============================================